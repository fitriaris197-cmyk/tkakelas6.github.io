<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tes Kemampuan Akademis SD - Matematika Numerasi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo {
            height: 80px;
            width: auto;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .developer-info {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 14px;
            opacity: 0.9;
        }
        
        .developer-info i {
            margin-right: 5px;
        }
        
        .timer-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .timer {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            background-color: #ffeaea;
            padding: 10px 20px;
            border-radius: 8px;
        }
        
        .progress {
            width: 200px;
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #2a5298;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .biodata-form {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2a5298;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #2a5298;
            outline: none;
        }
        
        .btn {
            background-color: #2a5298;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            display: inline-block;
        }
        
        .btn:hover {
            background-color: #1e3c72;
        }
        
        .btn-start {
            width: 100%;
            font-size: 18px;
        }
        
        .test-section {
            display: none;
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .question-container {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .question-number {
            display: inline-block;
            background-color: #2a5298;
            color: white;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .question-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            display: inline-block;
        }
        
        .option {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background-color: #f5f9ff;
            border-color: #2a5298;
        }
        
        .option.selected {
            background-color: #e6f0ff;
            border-color: #2a5298;
        }
        
        .option input {
            margin-right: 10px;
            width: auto;
        }
        
        .complex-options {
            margin-left: 20px;
        }
        
        .true-false-container {
            display: flex;
            gap: 20px;
        }
        
        .true-false-option {
            flex: 1;
            text-align: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .true-false-option:hover {
            background-color: #f5f9ff;
        }
        
        .true-false-option.selected {
            background-color: #e6f0ff;
            border-color: #2a5298;
        }
        
        .fill-in-input {
            width: 200px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            margin-top: 10px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .results-section {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 24px;
        }
        
        .score-kurang {
            background-color: #ffcccc;
            color: #cc0000;
            border: 8px solid #ff9999;
        }
        
        .score-cukup {
            background-color: #fff3cc;
            color: #cc9900;
            border: 8px solid #ffd966;
        }
        
        .score-baik {
            background-color: #d9f2d9;
            color: #2d862d;
            border: 8px solid #85e085;
        }
        
        .score-sangat-baik {
            background-color: #cce6ff;
            color: #0066cc;
            border: 8px solid #80c1ff;
        }
        
        .score-value {
            font-size: 48px;
            line-height: 1;
        }
        
        .predikat {
            font-size: 28px;
            margin-bottom: 20px;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            text-align: left;
        }
        
        .feedback h3 {
            color: #2a5298;
            margin-bottom: 10px;
        }
        
        .hidden {
            display: none;
        }
        
        .logo-title {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            color: #666;
            font-size: 14px;
            border-top: 1px solid #ddd;
        }
        
        .footer a {
            color: #2a5298;
            text-decoration: none;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .timer-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .progress {
                width: 100%;
            }
            
            .true-false-container {
                flex-direction: column;
            }
            
            .logo {
                height: 60px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .developer-info {
                font-size: 12px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation .btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-title">
                <div class="logo-container">
                    <img src="https://iili.io/f1XAPJs.md.png" alt="Logo Tes Matematika" class="logo">
                </div>
                <h1><i class="fas fa-calculator"></i> Tes Kemampuan Akademis SD</h1>
            </div>
            <p class="subtitle">Mata Pelajaran Matematika - Numerasi Tingkat Sulit</p>
            <p>Waktu Pengerjaan: 60 Menit | 25 Soal</p>
            
            <div class="developer-info">
                <i class="fas fa-user-graduate"></i> Dikembangkan oleh: <strong>Fitri Aris Solikin, S.Pd</strong><br>
                <i class="fas fa-school"></i> Guru SDN Wonosunyo I Gempol Pasuruan Jawa Timur
            </div>
        </header>
        
        <div class="timer-container">
            <div>
                <h3><i class="far fa-clock"></i> Waktu Tersisa</h3>
                <div class="timer" id="timer">60:00</div>
            </div>
            <div>
                <h3>Progress Pengerjaan</h3>
                <div class="progress">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <p id="progress-text">0/25 Soal</p>
            </div>
        </div>
        
        <!-- Biodata Section -->
        <div id="biodata-section" class="biodata-form">
            <h2><i class="fas fa-user-edit"></i> Data Peserta</h2>
            <p>Silakan isi biodata Anda sebelum memulai tes.</p>
            
            <div class="form-group">
                <label for="nama">Nama Lengkap</label>
                <input type="text" id="nama" placeholder="Masukkan nama lengkap">
            </div>
            
            <div class="form-group">
                <label for="sekolah">Asal Sekolah</label>
                <input type="text" id="sekolah" placeholder="Nama sekolah">
            </div>
            
            <div class="form-group">
                <label for="kelas">Kelas</label>
                <select id="kelas">
                    <option value="">Pilih Kelas</option>
                    <option value="4">Kelas 4</option>
                    <option value="5">Kelas 5</option>
                    <option value="6">Kelas 6</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="tanggal-lahir">Tanggal Lahir</label>
                <input type="date" id="tanggal-lahir">
            </div>
            
            <button class="btn btn-start" id="start-test">Mulai Tes <i class="fas fa-play-circle"></i></button>
        </div>
        
        <!-- Test Section -->
        <div id="test-section" class="test-section">
            <div id="questions-container"></div>
            
            <div class="navigation">
                <button class="btn" id="prev-btn"><i class="fas fa-arrow-left"></i> Soal Sebelumnya</button>
                <button class="btn" id="next-btn">Soal Berikutnya <i class="fas fa-arrow-right"></i></button>
                <button class="btn" id="submit-btn" style="background-color: #27ae60;">Selesaikan Tes <i class="fas fa-check-circle"></i></button>
            </div>
        </div>
        
        <!-- Results Section -->
        <div id="results-section" class="results-section">
            <h2><i class="fas fa-chart-line"></i> Hasil Tes Matematika</h2>
            <div class="logo-container">
                <img src="https://iili.io/f1XAPJs.md.png" alt="Logo Tes Matematika" class="logo" style="height: 60px;">
            </div>
            <p id="participant-info"></p>
            
            <div id="score-circle" class="score-circle">
                <div id="score-value" class="score-value">0</div>
                <div id="score-percentage">0%</div>
            </div>
            
            <h2 id="predikat" class="predikat">Predikat</h2>
            
            <div class="feedback">
                <h3><i class="fas fa-info-circle"></i> Informasi Hasil</h3>
                <p id="correct-answers"></p>
                <p id="score-detail"></p>
                <p id="feedback-text"></p>
            </div>
            
            <div class="developer-info" style="color: #666; margin-top: 20px;">
                <i class="fas fa-user-graduate"></i> Dikembangkan oleh: <strong>Fitri Aris Solikin, S.Pd</strong><br>
                <i class="fas fa-school"></i> Guru SDN Wonosunyo I Gempol Pasuruan Jawa Timur
            </div>
            
            <button class="btn" id="restart-btn" style="margin-top: 20px;"><i class="fas fa-redo"></i> Ulangi Tes</button>
        </div>
        
        <div class="footer">
            <p>© 2023 Tes Kemampuan Akademis SD Matematika - Numerasi</p>
            <p>Dikembangkan oleh <strong>Fitri Aris Solikin, S.Pd</strong> - Guru SDN Wonosunyo I Gempol Pasuruan Jawa Timur</p>
            <p>Halaman ini dibuat untuk tujuan pendidikan dan pengembangan kemampuan numerasi siswa SD</p>
        </div>
    </div>

    <script>
        // Soal tes matematika SD dengan tingkat kesulitan tinggi
        const questions = [
            // 10 soal pilihan ganda biasa
            {
                type: "pilihan-ganda",
                question: "Sebuah kolam renang berbentuk persegi panjang dengan panjang 12 meter dan lebar 8 meter. Di sekeliling kolam akan dibuat jalan dengan lebar 1 meter. Berapa luas jalan tersebut?",
                options: ["40 m²", "44 m²", "48 m²", "52 m²"],
                correctAnswer: 1, // Index 1 = "44 m²"
                explanation: "Luas kolam = 12 × 8 = 96 m². Luas kolam + jalan = (12+2) × (8+2) = 14 × 10 = 140 m². Luas jalan = 140 - 96 = 44 m²."
            },
            {
                type: "pilihan-ganda",
                question: "Rata-rata dari 5 bilangan adalah 24. Jika bilangan ke-6 ditambahkan, rata-ratanya menjadi 25. Berapa bilangan ke-6 tersebut?",
                options: ["28", "29", "30", "31"],
                correctAnswer: 2, // Index 2 = "30"
                explanation: "Jumlah 5 bilangan = 5 × 24 = 120. Jumlah 6 bilangan = 6 × 25 = 150. Bilangan ke-6 = 150 - 120 = 30."
            },
            {
                type: "pilihan-ganda",
                question: "Seorang pedagang membeli 2 lusin buku seharga Rp 144.000. Jika ia menjual setiap buku dengan harga Rp 7.500, berapa persen keuntungan yang diperoleh?",
                options: ["20%", "25%", "30%", "35%"],
                correctAnswer: 1, // Index 1 = "25%"
                explanation: "2 lusin = 24 buku. Harga beli per buku = 144.000 ÷ 24 = Rp 6.000. Keuntungan per buku = 7.500 - 6.000 = 1.500. Persentase keuntungan = (1.500 ÷ 6.000) × 100% = 25%."
            },
            {
                type: "pilihan-ganda",
                question: "Sebuah kereta berangkat dari kota A ke kota B dengan kecepatan 60 km/jam. Pada saat yang sama, kereta lain berangkat dari kota B ke kota A dengan kecepatan 80 km/jam. Jika jarak kota A dan B adalah 420 km, berapa jam yang diperlukan hingga kedua kereta bertemu?",
                options: ["2 jam", "2,5 jam", "3 jam", "3,5 jam"],
                correctAnswer: 2, // Index 2 = "3 jam"
                explanation: "Kecepatan relatif = 60 + 80 = 140 km/jam. Waktu = jarak ÷ kecepatan = 420 ÷ 140 = 3 jam."
            },
            {
                type: "pilihan-ganda",
                question: "Jika 3/5 dari suatu bilangan adalah 72, maka 5/6 dari bilangan tersebut adalah...",
                options: ["90", "100", "110", "120"],
                correctAnswer: 1, // Index 1 = "100"
                explanation: "Bilangan = 72 ÷ (3/5) = 72 × (5/3) = 120. 5/6 dari 120 = 120 × (5/6) = 100."
            },
            // SOAL REVISI NO. 6: Mencari Mean (Rata-rata)
            {
                type: "pilihan-ganda",
                question: "Nilai ulangan matematika 8 siswa adalah: 7, 8, 6, 9, 8, 7, 8, 10. Jika ditambahkan nilai seorang siswa lagi, rata-ratanya menjadi 8. Berapa nilai siswa tersebut?",
                options: ["8", "9", "10", "11"],
                correctAnswer: 3, // Index 3 = "11"
                explanation: "Jumlah nilai 8 siswa = 7+8+6+9+8+7+8+10 = 63. Rata-rata 9 siswa = 8, maka jumlah nilai 9 siswa = 9 × 8 = 72. Nilai siswa tambahan = 72 - 63 = 11."
            },
            // SOAL REVISI NO. 7: Mencari Modus
            {
                type: "pilihan-ganda",
                question: "Data tinggi badan (dalam cm) 10 siswa adalah: 145, 142, 148, 145, 150, 142, 145, 148, 150, 145. Berapakah modus dari data tinggi badan tersebut?",
                options: ["142", "145", "148", "150"],
                correctAnswer: 1, // Index 1 = "145"
                explanation: "Frekuensi: 142 muncul 2 kali, 145 muncul 4 kali, 148 muncul 2 kali, 150 muncul 2 kali. Modus adalah nilai yang paling sering muncul, yaitu 145 (muncul 4 kali)."
            },
            {
                type: "pilihan-ganda",
                question: "Sebuah drum berisi minyak 3/4 bagian. Jika dari drum tersebut diambil 30 liter sehingga tersisa 1/2 bagian, berapa kapasitas drum tersebut?",
                options: ["100 liter", "120 liter", "150 liter", "180 liter"],
                correctAnswer: 1, // Index 1 = "120 liter"
                explanation: "Misal kapasitas drum = x liter. 3/4x - 30 = 1/2x. 3/4x - 1/2x = 30. 1/4x = 30. x = 120 liter."
            },
            {
                type: "pilihan-ganda",
                question: "Kelipatan Persekutuan Terkecil (KPK) dari 24, 36, dan 48 adalah...",
                options: ["96", "144", "192", "288"],
                correctAnswer: 1, // Index 1 = "144"
                explanation: "Faktorisasi: 24 = 2³ × 3, 36 = 2² × 3², 48 = 2⁴ × 3. KPK = 2⁴ × 3² = 16 × 9 = 144."
            },
            {
                type: "pilihan-ganda",
                question: "Seorang siswa menghabiskan 1/4 dari uangnya untuk membeli buku, 1/3 dari sisanya untuk membeli alat tulis, dan masih memiliki sisa Rp 30.000. Berapa uang yang dimiliki siswa mula-mula?",
                options: ["Rp 60.000", "Rp 72.000", "Rp 80.000", "Rp 90.000"],
                correctAnswer: 0, // Index 0 = "Rp 60.000"
                explanation: "Misal uang mula-mula = x. Setelah beli buku sisa = 3/4x. Setelah beli alat tulis sisa = 2/3 × 3/4x = 1/2x. 1/2x = 30.000, maka x = 60.000."
            },
            
            // 5 soal pilihan ganda kompleks
            {
                type: "pilihan-ganda-kompleks",
                question: "Manakah pernyataan yang benar tentang bilangan prima? (Pilih semua yang benar)",
                options: [
                    {text: "Bilangan prima terkecil adalah 1", correct: false},
                    {text: "Semua bilangan prima adalah bilangan ganjil", correct: false},
                    {text: "2 adalah satu-satunya bilangan prima genap", correct: true},
                    {text: "Bilangan prima hanya memiliki dua faktor", correct: true},
                    {text: "Jumlah dua bilangan prima selalu genap", correct: false}
                ],
                explanation: "1 bukan bilangan prima. 2 adalah bilangan prima genap. Bilangan prima memiliki tepat dua faktor (1 dan bilangan itu sendiri). Jumlah dua bilangan prima bisa ganjil (contoh: 2+3=5)."
            },
            {
                type: "pilihan-ganda-kompleks",
                question: "Manakah yang merupakan sifat-sifat persegi? (Pilih semua yang benar)",
                options: [
                    {text: "Memiliki empat sisi yang sama panjang", correct: true},
                    {text: "Diagonalnya saling berpotongan tegak lurus", correct: true},
                    {text: "Semua sudutnya sama besar", correct: true},
                    {text: "Diagonalnya sama panjang", correct: true},
                    {text: "Hanya memiliki dua simetri lipat", correct: false}
                ],
                explanation: "Persegi memiliki semua sifat tersebut kecuali 'hanya memiliki dua simetri lipat'. Persegi memiliki 4 simetri lipat."
            },
            // SOAL REVISI NO. 17: Mencari Keliling Lingkaran
            {
                type: "pilihan-ganda-kompleks",
                question: "Sebuah lingkaran memiliki jari-jari 14 cm. Manakah pernyataan yang benar tentang lingkaran tersebut? (π = 22/7) (Pilih semua yang benar)",
                options: [
                    {text: "Diameter lingkaran adalah 28 cm", correct: true},
                    {text: "Keliling lingkaran adalah 88 cm", correct: true},
                    {text: "Luas lingkaran adalah 616 cm²", correct: true},
                    {text: "Jika jari-jari diperbesar 2 kali, kelilingnya menjadi 176 cm", correct: true},
                    {text: "Jika jari-jari diperbesar 2 kali, luasnya menjadi 1232 cm²", correct: false}
                ],
                explanation: "Diameter = 2 × r = 28 cm. Keliling = 2 × π × r = 2 × 22/7 × 14 = 88 cm. Luas = π × r² = 22/7 × 14 × 14 = 616 cm². Jika r = 28 cm, keliling = 2 × 22/7 × 28 = 176 cm. Jika r = 28 cm, luas = 22/7 × 28 × 28 = 2464 cm² (bukan 1232 cm²)."
            },
            {
                type: "pilihan-ganda-kompleks",
                question: "Manakah yang merupakan satuan ukuran luas? (Pilih semua yang benar)",
                options: [
                    {text: "hektare", correct: true},
                    {text: "are", correct: true},
                    {text: "kilometer", correct: false},
                    {text: "meter persegi", correct: true},
                    {text: "liter", correct: false}
                ],
                explanation: "Hektare, are, dan meter persegi adalah satuan luas. Kilometer adalah satuan panjang. Liter adalah satuan volume."
            },
            {
                type: "pilihan-ganda-kompleks",
                question: "Manakah pernyataan yang benar tentang operasi hitung campuran? (Pilih semua yang benar)",
                options: [
                    {text: "Perkalian dan pembagian dikerjakan sebelum penjumlahan dan pengurangan", correct: true},
                    {text: "Operasi dalam kurung dikerjakan terlebih dahulu", correct: true},
                    {text: "15 - 3 × 4 = 48", correct: false},
                    {text: "24 ÷ (6 - 2) × 3 = 18", correct: true},
                    {text: "8 + 12 ÷ 4 - 2 = 9", correct: true}
                ],
                explanation: "15 - 3 × 4 = 15 - 12 = 3 (bukan 48). 24 ÷ (6 - 2) × 3 = 24 ÷ 4 × 3 = 6 × 3 = 18. 8 + 12 ÷ 4 - 2 = 8 + 3 - 2 = 9."
            },
            
            // 5 soal benar salah
            {
                type: "benar-salah",
                question: "FPB dari 36 dan 48 adalah 12.",
                correctAnswer: true,
                explanation: "Faktor dari 36: 1,2,3,4,6,9,12,18,36. Faktor dari 48: 1,2,3,4,6,8,12,16,24,48. FPB terbesar adalah 12."
            },
            {
                type: "benar-salah",
                question: "Hasil dari 0,75 ÷ 0,25 adalah 3.",
                correctAnswer: true,
                explanation: "0,75 ÷ 0,25 = 75/100 ÷ 25/100 = 75/100 × 100/25 = 75/25 = 3."
            },
            // SOAL REVISI NO. 21: Mencari Kecepatan Rata-rata
            {
                type: "benar-salah",
                question: "Seorang pelari menempuh jarak 12 km dalam waktu 2 jam. Kemudian ia melanjutkan perjalanan sejauh 18 km dalam waktu 3 jam. Kecepatan rata-rata pelari tersebut adalah 5 km/jam.",
                correctAnswer: false,
                explanation: "Jarak total = 12 km + 18 km = 30 km. Waktu total = 2 jam + 3 jam = 5 jam. Kecepatan rata-rata = jarak total ÷ waktu total = 30 km ÷ 5 jam = 6 km/jam (bukan 5 km/jam)."
            },
            {
                type: "benar-salah",
                question: "25% dari 120 adalah 30.",
                correctAnswer: true,
                explanation: "25% = 1/4. 1/4 × 120 = 30."
            },
            {
                type: "benar-salah",
                question: "Jika sebuah segitiga memiliki alas 10 cm dan tinggi 8 cm, maka luasnya adalah 40 cm².",
                correctAnswer: true,
                explanation: "Luas segitiga = 1/2 × alas × tinggi = 1/2 × 10 × 8 = 40 cm²."
            },
            
            // 5 soal isian singkat
            {
                type: "isian",
                question: "Hasil dari 2³ + 3² - 4² adalah...",
                correctAnswer: "1",
                explanation: "2³ = 8, 3² = 9, 4² = 16. Jadi 8 + 9 - 16 = 1."
            },
            {
                type: "isian",
                question: "Bilangan yang merupakan kelipatan 7 antara 50 dan 70 adalah... (jawab dengan angka saja)",
                correctAnswer: "56",
                explanation: "Kelipatan 7: 49, 56, 63, 70. Yang antara 50 dan 70 adalah 56 dan 63. Soal ini hanya meminta satu jawaban, jadi 56 adalah jawaban yang diterima."
            },
            {
                type: "isian",
                question: "Nilai dari 3/8 + 0,375 adalah... (jawab dalam bentuk desimal)",
                correctAnswer: "0.75",
                explanation: "3/8 = 0,375. Jadi 0,375 + 0,375 = 0,75."
            },
            {
                type: "isian",
                question: "Jika 5a - 12 = 28, maka nilai a adalah...",
                correctAnswer: "8",
                explanation: "5a - 12 = 28 → 5a = 28 + 12 → 5a = 40 → a = 40 ÷ 5 = 8."
            },
            {
                type: "isian",
                question: "Jumlah semua bilangan prima antara 10 dan 20 adalah...",
                correctAnswer: "60",
                explanation: "Bilangan prima antara 10 dan 20: 11, 13, 17, 19. Jumlahnya = 11+13+17+19 = 60."
            }
        ];

        // Variabel global
        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let timer;
        let timeLeft = 60 * 60; // 60 menit dalam detik
        let testStarted = false;
        let biodataCompleted = false;

        // DOM Elements
        const biodataSection = document.getElementById('biodata-section');
        const testSection = document.getElementById('test-section');
        const resultsSection = document.getElementById('results-section');
        const questionsContainer = document.getElementById('questions-container');
        const startTestButton = document.getElementById('start-test');
        const prevButton = document.getElementById('prev-btn');
        const nextButton = document.getElementById('next-btn');
        const submitButton = document.getElementById('submit-btn');
        const restartButton = document.getElementById('restart-btn');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        // Event Listeners
        startTestButton.addEventListener('click', startTest);
        prevButton.addEventListener('click', prevQuestion);
        nextButton.addEventListener('click', nextQuestion);
        submitButton.addEventListener('click', submitTest);
        restartButton.addEventListener('click', restartTest);

        // Fungsi untuk memulai tes
        function startTest() {
            const nama = document.getElementById('nama').value;
            const sekolah = document.getElementById('sekolah').value;
            const kelas = document.getElementById('kelas').value;
            const tanggalLahir = document.getElementById('tanggal-lahir').value;
            
            if (!nama || !sekolah || !kelas || !tanggalLahir) {
                alert('Harap lengkapi semua data biodata sebelum memulai tes.');
                return;
            }
            
            biodataCompleted = true;
            biodataSection.style.display = 'none';
            testSection.style.display = 'block';
            
            // Mulai timer
            if (!testStarted) {
                startTimer();
                testStarted = true;
            }
            
            // Tampilkan soal pertama
            showQuestion(currentQuestion);
            updateProgress();
        }

        // Fungsi timer
        function startTimer() {
            timer = setInterval(function() {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    submitTest();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update progress bar berdasarkan waktu
            const progressPercent = ((60 * 60 - timeLeft) / (60 * 60)) * 100;
            progressBar.style.width = `${progressPercent}%`;
        }

        // Fungsi untuk menampilkan soal
        function showQuestion(index) {
            questionsContainer.innerHTML = '';
            const question = questions[index];
            
            // Buat elemen untuk nomor soal
            const questionNumber = document.createElement('div');
            questionNumber.className = 'question-number';
            questionNumber.textContent = index + 1;
            
            // Buat elemen untuk teks soal
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = question.question;
            
            // Container untuk nomor dan teks soal
            const questionHeader = document.createElement('div');
            questionHeader.appendChild(questionNumber);
            questionHeader.appendChild(questionText);
            
            const questionContainer = document.createElement('div');
            questionContainer.className = 'question-container';
            questionContainer.appendChild(questionHeader);
            
            // Tampilkan soal berdasarkan tipe
            if (question.type === 'pilihan-ganda') {
                question.options.forEach((option, optionIndex) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    if (userAnswers[index] === optionIndex) {
                        optionElement.classList.add('selected');
                    }
                    
                    optionElement.innerHTML = `
                        <input type="radio" name="option-${index}" id="option-${index}-${optionIndex}" 
                               ${userAnswers[index] === optionIndex ? 'checked' : ''}>
                        <label for="option-${index}-${optionIndex}">${option}</label>
                    `;
                    
                    optionElement.addEventListener('click', () => {
                        userAnswers[index] = optionIndex;
                        showQuestion(index); // Refresh tampilan
                    });
                    
                    questionContainer.appendChild(optionElement);
                });
            } 
            else if (question.type === 'pilihan-ganda-kompleks') {
                const complexOptions = document.createElement('div');
                complexOptions.className = 'complex-options';
                
                question.options.forEach((option, optionIndex) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    
                    // Untuk pilihan ganda kompleks, userAnswers[index] adalah array
                    if (!userAnswers[index]) userAnswers[index] = [];
                    
                    const isSelected = userAnswers[index].includes(optionIndex);
                    if (isSelected) {
                        optionElement.classList.add('selected');
                    }
                    
                    optionElement.innerHTML = `
                        <input type="checkbox" id="option-${index}-${optionIndex}" 
                               ${isSelected ? 'checked' : ''}>
                        <label for="option-${index}-${optionIndex}">${option.text}</label>
                    `;
                    
                    optionElement.addEventListener('click', () => {
                        if (!userAnswers[index]) userAnswers[index] = [];
                        
                        if (userAnswers[index].includes(optionIndex)) {
                            // Hapus dari array jika sudah dipilih
                            userAnswers[index] = userAnswers[index].filter(i => i !== optionIndex);
                        } else {
                            // Tambahkan ke array jika belum dipilih
                            userAnswers[index].push(optionIndex);
                        }
                        
                        showQuestion(index); // Refresh tampilan
                    });
                    
                    complexOptions.appendChild(optionElement);
                });
                
                questionContainer.appendChild(complexOptions);
            }
            else if (question.type === 'benar-salah') {
                const trueFalseContainer = document.createElement('div');
                trueFalseContainer.className = 'true-false-container';
                
                const trueOption = document.createElement('div');
                trueOption.className = 'true-false-option';
                if (userAnswers[index] === true) {
                    trueOption.classList.add('selected');
                }
                trueOption.innerHTML = '<i class="fas fa-check-circle"></i> BENAR';
                trueOption.addEventListener('click', () => {
                    userAnswers[index] = true;
                    showQuestion(index);
                });
                
                const falseOption = document.createElement('div');
                falseOption.className = 'true-false-option';
                if (userAnswers[index] === false) {
                    falseOption.classList.add('selected');
                }
                falseOption.innerHTML = '<i class="fas fa-times-circle"></i> SALAH';
                falseOption.addEventListener('click', () => {
                    userAnswers[index] = false;
                    showQuestion(index);
                });
                
                trueFalseContainer.appendChild(trueOption);
                trueFalseContainer.appendChild(falseOption);
                questionContainer.appendChild(trueFalseContainer);
            }
            else if (question.type === 'isian') {
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'fill-in-input';
                input.placeholder = 'Masukkan jawaban';
                if (userAnswers[index] !== null) {
                    input.value = userAnswers[index];
                }
                
                input.addEventListener('input', () => {
                    userAnswers[index] = input.value.trim();
                });
                
                questionContainer.appendChild(input);
            }
            
            questionsContainer.appendChild(questionContainer);
            updateProgress();
        }

        // Fungsi navigasi soal
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        // Fungsi update progress
        function updateProgress() {
            const answeredQuestions = userAnswers.filter(answer => 
                answer !== null && 
                (Array.isArray(answer) ? answer.length > 0 : true)
            ).length;
            
            const progressPercent = (answeredQuestions / questions.length) * 100;
            progressBar.style.width = `${progressPercent}%`;
            progressText.textContent = `${answeredQuestions}/${questions.length} Soal`;
        }

        // Fungsi submit tes
        function submitTest() {
            clearInterval(timer);
            
            // Hitung skor
            let score = 0;
            let correctAnswers = 0;
            const totalQuestions = questions.length;
            
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                
                if (question.type === 'pilihan-ganda') {
                    if (userAnswer === question.correctAnswer) {
                        score += 4; // 4 poin per soal pilihan ganda
                        correctAnswers++;
                    }
                }
                else if (question.type === 'pilihan-ganda-kompleks') {
                    // Untuk soal kompleks, setiap pilihan yang benar bernilai 1 poin
                    if (Array.isArray(userAnswer)) {
                        let questionScore = 0;
                        question.options.forEach((option, optionIndex) => {
                            if (option.correct && userAnswer.includes(optionIndex)) {
                                questionScore += 1;
                            } else if (!option.correct && !userAnswer.includes(optionIndex)) {
                                questionScore += 1;
                            }
                        });
                        score += questionScore;
                        if (questionScore === question.options.length) {
                            correctAnswers++;
                        }
                    }
                }
                else if (question.type === 'benar-salah') {
                    if (userAnswer === question.correctAnswer) {
                        score += 3; // 3 poin per soal benar/salah
                        correctAnswers++;
                    }
                }
                else if (question.type === 'isian') {
                    if (userAnswer && userAnswer.toString().toLowerCase() === question.correctAnswer.toLowerCase()) {
                        score += 5; // 5 poin per soal isian
                        correctAnswers++;
                    }
                }
            });
            
            // Hitung persentase
            const maxScore = 100; // Maksimum skor disesuaikan
            const percentage = Math.min(Math.round((score / maxScore) * 100), 100);
            
            // Tentukan predikat
            let predikat, scoreClass;
            if (percentage >= 90) {
                predikat = "SANGAT BAIK";
                scoreClass = "score-sangat-baik";
            } else if (percentage >= 75) {
                predikat = "BAIK";
                scoreClass = "score-baik";
            } else if (percentage >= 60) {
                predikat = "CUKUP";
                scoreClass = "score-cukup";
            } else {
                predikat = "KURANG";
                scoreClass = "score-kurang";
            }
            
            // Tampilkan hasil
            testSection.style.display = 'none';
            resultsSection.style.display = 'block';
            
            // Tampilkan info peserta
            const nama = document.getElementById('nama').value;
            const sekolah = document.getElementById('sekolah').value;
            const kelas = document.getElementById('kelas').value;
            document.getElementById('participant-info').textContent = 
                `Nama: ${nama} | Sekolah: ${sekolah} | Kelas: ${kelas}`;
            
            // Tampilkan skor
            const scoreCircle = document.getElementById('score-circle');
            scoreCircle.className = `score-circle ${scoreClass}`;
            document.getElementById('score-value').textContent = score;
            document.getElementById('score-percentage').textContent = `${percentage}%`;
            document.getElementById('predikat').textContent = predikat;
            
            // Tampilkan detail hasil
            document.getElementById('correct-answers').textContent = 
                `Jumlah soal benar: ${correctAnswers} dari ${totalQuestions} soal`;
            document.getElementById('score-detail').textContent = 
                `Total skor: ${score} dari ${maxScore} poin maksimal`;
            
            // Tampilkan feedback
            let feedbackText = "";
            if (percentage >= 90) {
                feedbackText = "Selamat! Anda memiliki kemampuan numerasi yang sangat baik. Pertahankan prestasi ini!";
            } else if (percentage >= 75) {
                feedbackText = "Hasil Anda baik. Terus berlatih untuk meningkatkan kemampuan numerasi Anda.";
            } else if (percentage >= 60) {
                feedbackText = "Hasil Anda cukup. Perbanyak latihan soal matematika untuk meningkatkan pemahaman.";
            } else {
                feedbackText = "Anda perlu lebih banyak berlatih. Coba pelajari kembali konsep dasar matematika dan berlatih dengan soal-soal yang lebih bervariasi.";
            }
            document.getElementById('feedback-text').textContent = feedbackText;
        }

        // Fungsi restart tes
        function restartTest() {
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            timeLeft = 60 * 60;
            testStarted = false;
            biodataCompleted = false;
            
            // Reset form biodata
            document.getElementById('nama').value = '';
            document.getElementById('sekolah').value = '';
            document.getElementById('kelas').value = '';
            document.getElementById('tanggal-lahir').value = '';
            
            // Tampilkan biodata section
            resultsSection.style.display = 'none';
            biodataSection.style.display = 'block';
            testSection.style.display = 'none';
            
            // Reset timer display
            timerDisplay.textContent = '60:00';
            progressBar.style.width = '0%';
            progressText.textContent = '0/25 Soal';
            
            // Clear timer interval jika masih berjalan
            clearInterval(timer);
        }

        // Inisialisasi tampilan awal
        updateTimerDisplay();
    </script>
</body>
</html>